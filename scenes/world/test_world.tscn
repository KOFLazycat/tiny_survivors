[gd_scene load_steps=24 format=3 uid="uid://c75d5c6vxcu56"]

[ext_resource type="Script" uid="uid://cdwrmqq8g7o6l" path="res://scripts/world/test_world.gd" id="1_cg5f0"]
[ext_resource type="Script" uid="uid://bq24flbt5ucoq" path="res://addons/great_games_library/resources/ReferenceNodeResource/ReferenceNodeSetter.gd" id="2_utf6i"]
[ext_resource type="Resource" uid="uid://d1ck1axrd4kd4" path="res://addons/top_down/resources/RoomResources/ysort_reference.tres" id="3_1aw3b"]
[ext_resource type="Script" uid="uid://b5vu2tmrvxin4" path="res://addons/top_down/scripts/game/PlayerSpawner.gd" id="7_i3rsd"]
[ext_resource type="Resource" uid="uid://b8o2o4evevl8k" path="res://addons/top_down/resources/ReferenceNodeResources/player_reference.tres" id="8_f38oy"]
[ext_resource type="PackedScene" uid="uid://riirk5vhl5k0" path="res://scenes/world/map/map_test.tscn" id="8_yapyo"]
[ext_resource type="Resource" uid="uid://c5cbxaiec2jk1" path="res://addons/top_down/resources/global_resources/scene_transition_resource.tres" id="10_obw6i"]
[ext_resource type="Script" uid="uid://ctjudeblqwu4j" path="res://addons/top_down/scripts/arena/StartingWeaponSpawner.gd" id="11_gaq8h"]
[ext_resource type="Resource" uid="uid://cogpibjem40wi" path="res://resources/instance_resources/actors/player_actor_instance_resource.tres" id="12_w0w3b"]
[ext_resource type="PackedScene" uid="uid://bqh7iwpl0s1ha" path="res://addons/top_down/scenes/screen_effects/screen_effects.tscn" id="13_ew2ib"]
[ext_resource type="Resource" uid="uid://b6mldf5iax3rj" path="res://addons/top_down/resources/InstanceResources/pickups/item_pickup_instance_resource.tres" id="13_h6k38"]
[ext_resource type="PackedScene" uid="uid://cfaobhr3r5ymj" path="res://addons/top_down/scenes/arena/enemy_manager.tscn" id="13_yapyo"]
[ext_resource type="Script" uid="uid://b7uevqt2dkh07" path="res://addons/top_down/scripts/arena/SpawnQueueResource.gd" id="14_ew2ib"]
[ext_resource type="Script" uid="uid://cgc1tkk1w6e2a" path="res://addons/top_down/scripts/arena/SpawnWaveList.gd" id="15_s4qyy"]
[ext_resource type="Resource" uid="uid://bc6ageykf2bd" path="res://resources/item_collection_resource/weapon_database_test.tres" id="15_w0w3b"]
[ext_resource type="Script" uid="uid://bbnccrapnv54n" path="res://addons/great_games_library/resources/InstanceResource/InstanceResource.gd" id="16_tersh"]
[ext_resource type="Resource" uid="uid://c05ys7ybsfv4u" path="res://addons/top_down/resources/InstanceResources/actors/zomby_instance_resource.tres" id="18_3cvmg"]
[ext_resource type="Script" uid="uid://bqvtxx78hbt4a" path="res://addons/top_down/scripts/arena/SpawnPoint.gd" id="20_s4g5r"]
[ext_resource type="PackedScene" uid="uid://crddbd0tmxp5p" path="res://addons/top_down/scenes/arena/arena_entry.tscn" id="20_yapyo"]
[ext_resource type="PackedScene" uid="uid://dlemxc4roie6n" path="res://scenes/ui/health_bar.tscn" id="25_3cvmg"]

[sub_resource type="Resource" id="Resource_avoxj"]
script = ExtResource("15_s4qyy")
is_boss = false
count = 100
instance_list = Array[ExtResource("16_tersh")]([ExtResource("18_3cvmg")])

[sub_resource type="Resource" id="Resource_ew2ib"]
script = ExtResource("14_ew2ib")
waves = Array[ExtResource("15_s4qyy")]([SubResource("Resource_avoxj")])

[sub_resource type="CircleShape2D" id="CircleShape2D_ew2ib"]
radius = 29.0689

[node name="TestWorld" type="Node2D"]
y_sort_enabled = true
script = ExtResource("1_cg5f0")
metadata/_edit_vertical_guides_ = [960.0, 534.0]
metadata/_edit_horizontal_guides_ = [540.0]

[node name="ReferenceNodeSetter" type="Node" parent="." node_paths=PackedStringArray("reference_node")]
script = ExtResource("2_utf6i")
reference_node = NodePath("..")
reference_resource = ExtResource("3_1aw3b")

[node name="MapTest" parent="." instance=ExtResource("8_yapyo")]
y_sort_enabled = true

[node name="PlayerSpawner" type="Marker2D" parent="."]
position = Vector2(220, 113)
script = ExtResource("7_i3rsd")
player_reference = ExtResource("8_f38oy")
player_instance_resource = ExtResource("12_w0w3b")
scene_transition_resource = ExtResource("10_obw6i")

[node name="StartingWeapon" type="Node2D" parent="." node_paths=PackedStringArray("position_nodes")]
script = ExtResource("11_gaq8h")
position_nodes = [NodePath("Marker2D")]
weapon_database = ExtResource("15_w0w3b")
weapon_pickup_instance_resource = ExtResource("13_h6k38")

[node name="Marker2D" type="Marker2D" parent="StartingWeapon"]
position = Vector2(281, 108)

[node name="EnemyManager" parent="." instance=ExtResource("13_yapyo")]
wave_queue = SubResource("Resource_ew2ib")

[node name="EnemySpawnPoints" type="Node2D" parent="."]

[node name="Spawn_1" type="Marker2D" parent="EnemySpawnPoints"]
position = Vector2(427, 207)
script = ExtResource("20_s4g5r")

[node name="Spawn_2" type="Marker2D" parent="EnemySpawnPoints"]
position = Vector2(432, 50)
script = ExtResource("20_s4g5r")

[node name="Spawn_3" type="Marker2D" parent="EnemySpawnPoints"]
position = Vector2(58, 50)
script = ExtResource("20_s4g5r")

[node name="Spawn_4" type="Marker2D" parent="EnemySpawnPoints"]
position = Vector2(55, 202)
script = ExtResource("20_s4g5r")

[node name="ArenaEntry" parent="." instance=ExtResource("20_yapyo")]
position = Vector2(378, 73)
collision_layer = 0
collision_mask = 2

[node name="CollisionShape2D" type="CollisionShape2D" parent="ArenaEntry"]
shape = SubResource("CircleShape2D_ew2ib")

[node name="ScreenEffects" parent="." instance=ExtResource("13_ew2ib")]

[node name="UI" type="CanvasLayer" parent="."]

[node name="HealthPanel" parent="UI" instance=ExtResource("25_3cvmg")]
